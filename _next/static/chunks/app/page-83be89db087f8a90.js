(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{111:function(e,t,s){Promise.resolve().then(s.bind(s,2471))},2471:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return C}});var l=s(7437),n=s(2265);function a(e){let t=e.unclickable?"pointer-events-none":"",s=e.unclickable?"border-stone-500":"border-black",n=e.unclickable?"text-stone-500":"text-black";return(0,l.jsx)("button",{className:"".concat(n," border rounded-full ").concat(s," font-medium py-3 px-4 text-l ").concat(t),onClick:e.onClick,children:e.text})}function r(e){let t=e.cellValue.selected?"bg-slate-500":"bg-slate-200",s=e.cellValue.selected?"text-stone-100":"text-black",n=e.animateGuess?"transform -translate-y-2":"",a=e.animateWrongGuess?"animate-horizontal-shake":"";return(0,l.jsx)("button",{className:"".concat(t," py-6 rounded-md break-all px-1 transition ease-in-out ").concat(n," ").concat(a),onClick:()=>{e.onClick(e.cellValue)},children:(0,l.jsx)("h2",{className:"".concat(s," text-xs md:text-lg text-center font-bold"),children:e.cellValue.word.toUpperCase()})})}let c=e=>{let t=42,s=[...e],l=e=>Math.floor(t++%e);for(let t=e.length-1;t>0;t--){let e=l(t+1);[s[t],s[e]]=[s[e],s[t]]}return s},o=e=>{switch(e){case 1:return"bg-yellow-300";case 2:return"bg-lime-500";case 3:return"bg-blue-300";case 4:return"bg-purple-400";default:return"bg-black"}},i=e=>{switch(e){case 1:return"\uD83D\uDFE8";case 2:return"\uD83D\uDFE9";case 3:return"\uD83D\uDFE6";case 4:return"\uD83D\uDFEA";default:return"⬛️"}},u=e=>e.map(e=>e.map((e,t)=>i(e.level))).map(e=>e.join("")).join("\n"),d=e=>"Rachel & Ryan's\nWedding Connections\n\n"+u(e)+"\n\nhttps://rdrapeau.github.io",m=async e=>{if(navigator.clipboard)try{await navigator.clipboard.writeText(e),console.log("Text copied to clipboard")}catch(e){console.error("Failed to copy text: ",e)}else{let t=document.createElement("textarea");t.value=e,document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy"),console.log("Text copied to clipboard")}catch(e){console.error("Failed to copy text: ",e)}document.body.removeChild(t)}},x=e=>{switch(e){case 4:return"Perfect!";case 3:return"Nice!";case 2:return"Good!";default:return"Phew!"}},h=e=>new Promise(t=>setTimeout(t,e));function f(e){let t=o(e.category.level),s=e.category.items.join(", ");return(0,l.jsxs)("div",{className:"flex flex-col items-center col-span-4 py-4 rounded-md ".concat(t),children:[(0,l.jsx)("h1",{className:"text-black font-bold text-md md:text-lg",children:e.category.category}),(0,l.jsx)("h2",{className:"text-black text-sm md:text-md text-center mx-2",children:s})]})}function g(e){return(0,l.jsxs)("div",{className:"grid grid-cols-4 gap-2 w-full",children:[e.clearedCategories.map(e=>(0,l.jsx)(f,{category:e},e.category)),e.words.map(t=>(0,l.jsx)(r,{cellValue:t,onClick:e.onClick,animateGuess:e.guessAnimationState.show&&e.guessAnimationState.index===e.selectedWords.indexOf(t),animateWrongGuess:e.wrongGuessAnimationState&&e.selectedWords.includes(t)},t.word))]})}function b(e){return(0,l.jsx)("div",{className:"grid grid-cols-4 gap-y-1 mb-12",children:e.guessHistory.map(e=>e.map((e,t)=>(0,l.jsx)("div",{className:"size-12 rounded-md ".concat(o(e.level))},t)))})}function p(e){let t=n.useRef(null);return n.useEffect(()=>{var s,l;e.isOpen?null===(s=t.current)||void 0===s||s.showModal():null===(l=t.current)||void 0===l||l.close()},[e.isOpen]),(0,l.jsx)("dialog",{ref:t,onClick:s=>{var l;let n=null===(l=t.current)||void 0===l?void 0:l.getBoundingClientRect();n&&(s.clientX<(null==n?void 0:n.left)||s.clientX>(null==n?void 0:n.right)||s.clientY<(null==n?void 0:n.top)||s.clientY>(null==n?void 0:n.bottom))&&e.onClose()},className:"backdrop:bg-black backdrop:opacity-75 rounded-md p-8",children:e.children})}function w(e){return(0,l.jsx)(p,{isOpen:e.isOpen,onClose:e.onClose,children:(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center px-12",children:[(0,l.jsx)("h1",{className:"text-black text-3xl font-black my-4 ml-4",children:"Next time!"}),(0,l.jsx)("hr",{className:"mb-2 md:mb-4 w-full"}),(0,l.jsx)(b,{guessHistory:e.guessHistory}),(0,l.jsxs)("div",{className:"flex gap-2 mb-12",children:[(0,l.jsx)(a,{text:"Exit",onClick:e.onClose}),(0,l.jsx)(a,{text:"Share",onClick:e.onShare})]})]})})}function j(e){return(0,l.jsx)(p,{isOpen:e.isOpen,onClose:e.onClose,children:(0,l.jsxs)("div",{className:"flex flex-col items-center justify-center px-12",children:[(0,l.jsx)("h1",{className:"text-black text-4xl font-black my-4 ml-4",children:e.perfection}),(0,l.jsx)("hr",{className:"mb-2 md:mb-4 w-full"}),(0,l.jsx)("h2",{className:"text-black mb-8",children:"You've won the game!"}),(0,l.jsx)(b,{guessHistory:e.guessHistory}),(0,l.jsxs)("div",{className:"flex gap-2 mb-12",children:[(0,l.jsx)(a,{text:"Exit",onClick:e.onClose}),(0,l.jsx)(a,{text:"Share",onClick:e.onShare})]})]})})}var k=function(e){return e.show?(0,l.jsx)("div",{className:"absolute inset-x-0 -top-20 px-3 py-2 bg-black text-white rounded-lg mx-auto text-center max-w-max",children:e.message}):null};let y=[{category:"PLACES WE'VE VISITED",items:["TOKYO","NY","LA","CARMEL"],level:1},{category:"STORM'S NICKNAMES",items:["BUBBAS","PUP","MR. STORM","DODO"],level:2},{category:"FIRST DATES",items:["DINNER","CLIMB","BEACH","KAYAK"],level:3},{category:"FAVORITE FOODS",items:["PIZZA","MICHELIN","JAPANESE","FUSION"],level:4}];function C(){let[e,t]=function(){let[e,t]=(0,n.useState)({show:!1,message:""});return[e,async e=>{t({show:!0,message:e}),await h(1500),t({show:!1,message:""})}]}(),{gameWords:s,selectedWords:r,clearedCategories:o,mistakesRemaining:i,isWon:f,isLost:b,guessHistoryRef:p,selectWord:C,shuffleWords:v,deselectAllWords:S,getSubmitResult:N,handleWin:E,handleLoss:D}=function(){let[e,t]=(0,n.useState)([]),s=(0,n.useMemo)(()=>e.filter(e=>e.selected),[e]),[l,a]=(0,n.useState)([]),[r,o]=(0,n.useState)(!1),[i,u]=(0,n.useState)(!1),[d,m]=(0,n.useState)(4),x=(0,n.useRef)([]),f=(0,n.useRef)(new Set);(0,n.useEffect)(()=>{t(c(y.map(e=>e.items.map(t=>({word:t,level:e.level}))).flat()))},[]);let g=()=>{t(e.map(e=>({...e,selected:!1})))},b=s=>(a([...l,s]),t(e.filter(e=>!s.items.includes(e.word))),3===l.length)?{result:"win"}:{result:"correct"},p=e=>(m(d-1),1===d)?{result:"loss"}:3===e?{result:"one-away"}:{result:"incorrect"},w=async()=>{let e=y.filter(e=>!l.includes(e));for(let s of(g(),e))await h(1500),a(e=>[...e,s]),t(e=>e.filter(e=>!s.items.includes(e.word)));await h(2e3),u(!0)};return{gameWords:e,selectedWords:s,clearedCategories:l,mistakesRemaining:d,isWon:r,isLost:i,guessHistoryRef:x,selectWord:l=>{t(e.map(e=>l.word===e.word?{...e,selected:s.length<4&&!e.selected}:e))},shuffleWords:()=>{t([...c(e)])},deselectAllWords:g,getSubmitResult:()=>{let e=s.map(e=>e.word).sort().join("##");if(f.current.has(e))return console.log("Same!"),{result:"same"};x.current.push(s),f.current.add(e),console.log(f.current);let t=y.map(e=>s.filter(t=>e.items.includes(t.word)).length),l=Math.max(...t),n=t.indexOf(l);return 4===l?b(y[n]):p(l)},handleLoss:w,handleWin:async()=>{await h(1e3),o(!0)}}}(),[O,A]=(0,n.useState)(!1),[R,M]=(0,n.useState)(!1),[F,I]=(0,n.useState)(!1),{guessAnimationState:T,wrongGuessAnimationState:W,animateGuess:G,animateWrongGuess:H}=function(){let[e,t]=(0,n.useState)({show:!1,index:-1}),[s,l]=(0,n.useState)(!1);return{guessAnimationState:e,wrongGuessAnimationState:s,animateGuess:async e=>{for(let s=0;s<e.length;s++)e[s].selected&&(t({show:!0,index:s}),await h(150));t({show:!1,index:-1}),await h(600)},animateWrongGuess:async()=>{l(!0),await h(325),l(!1)}}}(),P=async()=>{switch(I(!0),await G(r),N().result){case"same":t("You've already guessed that!");break;case"one-away":H(),t("One away...");break;case"loss":t("Better luck next time!"),await D(),M(!0);break;case"win":t(x(i)),await E(),A(!0);break;case"incorrect":H()}I(!1)},V=(0,n.useCallback)(e=>{C(e)},[C]),B=()=>{let e=d(p.current);navigator.share?navigator.share({text:e}).catch(t=>{console.error("Error sharing: ",t),m(e)}):(console.error("Sharing not supported."),m(e),t("Copied to clipboard!"))};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-col items-center w-11/12 md:w-3/4 lg:w-7/12 mx-auto mt-14",children:[(0,l.jsx)("h1",{className:"text-black text-4xl font-semibold my-4 ml-4",children:"\uD83D\uDC70‍♀️ Connections \uD83E\uDD35‍♂️"}),(0,l.jsx)("hr",{className:"mb-4 md:mb-4 w-full"}),(0,l.jsx)("h1",{className:"text-black mb-4",children:"Create four groups of four!"}),(0,l.jsxs)("div",{className:"relative w-full",children:[(0,l.jsx)(k,{show:e.show,message:e.message}),(0,l.jsx)(g,{words:s,selectedWords:r,onClick:V,clearedCategories:o,guessAnimationState:T,wrongGuessAnimationState:W})]}),(0,l.jsxs)("h2",{className:"text-black my-4 md:my-8 mx-8",children:[" ",i>0?"Mistakes Remaining: ":"",i>0?Array(i).fill("❤️"):""]}),(()=>{let e=(0,l.jsxs)("div",{className:"flex gap-2 mb-12",children:[(0,l.jsx)(a,{text:"Show Results",onClick:()=>{A(!0)}}),(0,l.jsx)(a,{text:"Share",onClick:B})]}),t=(0,l.jsxs)("div",{className:"flex gap-2 mb-12",children:[(0,l.jsx)(a,{text:"Show Results",onClick:()=>{M(!0)}}),(0,l.jsx)(a,{text:"Share",onClick:B})]}),s=(0,l.jsxs)("div",{className:"flex gap-2 mb-12",children:[(0,l.jsx)(a,{text:"Shuffle",onClick:v,unclickable:F}),(0,l.jsx)(a,{text:"Deselect All",onClick:S,unclickable:0===r.length||F}),(0,l.jsx)(a,{text:"Submit",unclickable:4!==r.length||F,onClick:P})]});return f?e:b?t:s})()]}),(0,l.jsx)(j,{isOpen:O,onClose:()=>{A(!1),m(u(p.current)),t("Copied to clipboard!")},onShare:B,guessHistory:p.current,perfection:x(i)}),(0,l.jsx)(w,{isOpen:R,onClose:()=>{M(!1),m(u(p.current)),t("Copied to clipboard!")},onShare:B,guessHistory:p.current})]})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=111)}),_N_E=e.O()}]);